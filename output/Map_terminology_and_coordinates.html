<!DOCTYPE html>
<html>
	<head>
		<title>Map terminology and coordinates</title>
		<link rel="stylesheet" href="minetest.css">
		<script type="text/javascript" src="search.js"></script>
	</head>

	<body>
		<div>
			<table class="nav" style="width: 100%">
				<tr class="nav">
					<td style="text-align: left;" class="nav">
						<a href="index.html#contents">Contents</a>, <a href="full_index.html#Map_terminology_and_coordinates">Index</a>
					</td>
					<td style="text-align: right;" class="nav">
						<input type="text" id="search_term" name="search_term" onkeydown="term_key ();">
					</td>
					<td style="text-align: right;" class="nav">
						<button type="button" onclick="search ();" id="searchbtn" name="searchbtn">Search</button>
					</td>
				</tr>
			</table>
		</div>

		<div id="search_results" style="display: none;" class="searchbg">
			<button type="button" onclick="hide_search_results ();" id="hide_results" name="hide_results">Hide</button>
			<div id="search_results_contents" class="search">
			</div>
		</div>

		<h1 id="Map terminology and coordinates">Map terminology and coordinates</h1>
		<h2 id="Nodes, mapblocks, mapchunks">Nodes, mapblocks, mapchunks</h2>
		<p>
A 'node' is the fundamental cubic unit of a world and appears to a player as roughly 1x1x1 meters in size.
		</p>
		<p>
A 'mapblock' (often abbreviated to 'block') is 16x16x16 nodes and is the fundamental region of a world that is stored in the world database, sent to clients and handled by many parts of the engine. 'mapblock' is preferred terminology to 'block' to help avoid confusion with 'node', however 'block' often appears in the API.
		</p>
		<p>
A 'mapchunk' (sometimes abbreviated to 'chunk') is usually 5x5x5 mapblocks (80x80x80 nodes) and is the volume of world generated in one operation by the map generator. The size in mapblocks has been chosen to optimise map generation.
		</p>
		<h2 id="Coordinates">Coordinates</h2>
		<h3 id="Orientation of axes">Orientation of axes</h3>
		<p>
For node and mapblock coordinates, +X is East, +Y is up, +Z is North.
		</p>
		<h3 id="Node coordinates">Node coordinates</h3>
		<p>
Almost all positions used in the API use node coordinates.
		</p>
		<h3 id="Mapblock coordinates">Mapblock coordinates</h3>
		<p>
Occasionally the API uses 'blockpos' which refers to mapblock coordinates that specify a particular mapblock. For example blockpos (0,0,0) specifies the mapblock that extends from node position (0,0,0) to node position (15,15,15).
		</p>
		<h4 id="Converting node position to the containing blockpos">Converting node position to the containing blockpos</h4>
		<p>
To calculate the blockpos of the mapblock that contains the node at 'nodepos', for each axis:
		</p>
			<ul>
				<li class="line1">
blockpos = math.floor(nodepos / 16)
				</li>
			</ul>
		<h4 id="Converting blockpos to min/max node positions">Converting blockpos to min/max node positions</h4>
		<p>
To calculate the min/max node positions contained in the mapblock at 'blockpos', for each axis:
		</p>
			<ul>
				<li class="line1">
Minimum:   nodepos = blockpos * 16
				</li>
				<li class="line1">
Maximum:   nodepos = blockpos * 16 + 15
				</li>
			</ul>
		<p class="nav"><a href="index.html#contents">Contents</a>, <a href="full_index.html#Map_terminology_and_coordinates">Index</a></p>
	</body>
</html>
