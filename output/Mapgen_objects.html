<!DOCTYPE html>
<html>
	<head>
		<title>Mapgen objects</title>
		<link rel="stylesheet" href="minetest.css">
		<script type="text/javascript" src="search.js"></script>
	</head>

	<body>
		<div>
			<table class="nav" style="width: 100%">
				<tr class="nav">
					<td style="text-align: left;" class="nav">
						<a href="index.html#contents">Contents</a>, <a href="full_index.html#Mapgen_objects">Index</a>
					</td>
					<td style="text-align: right;" class="nav">
						<input type="text" id="search_term" name="search_term" onkeydown="term_key ();">
					</td>
					<td style="text-align: right;" class="nav">
						<button type="button" onclick="search ();" id="searchbtn" name="searchbtn">Search</button>
					</td>
				</tr>
			</table>
		</div>

		<div id="search_results" style="display: none;" class="searchbg">
			<button type="button" onclick="hide_search_results ();" id="hide_results" name="hide_results">Hide</button>
			<div id="search_results_contents" class="search">
			</div>
		</div>

		<h1 id="Mapgen objects">Mapgen objects</h1>
		<p>
A mapgen object is a construct used in map generation. Mapgen objects can be used by an <code>on_generate</code> callback to speed up operations by avoiding unnecessary recalculations, these can be retrieved using the <code>minetest.get_mapgen_object()</code> function. If the requested Mapgen object is unavailable, or <code>get_mapgen_object()</code> was called outside of an <code>on_generate()</code> callback, <code>nil</code> is returned.
		</p>
		<p>
The following Mapgen objects are currently available:
		</p>
		<h3 id="voxelmanip"><code>voxelmanip</code></h3>
		<p>
This returns three values; the <code>VoxelManip</code> object to be used, minimum and maximum emerged position, in that order. All mapgens support this object.
		</p>
		<h3 id="heightmap"><code>heightmap</code></h3>
		<p>
Returns an array containing the y coordinates of the ground levels of nodes in the most recently generated chunk by the current mapgen.
		</p>
		<h3 id="biomemap"><code>biomemap</code></h3>
		<p>
Returns an array containing the biome IDs of nodes in the most recently generated chunk by the current mapgen.
		</p>
		<h3 id="heatmap"><code>heatmap</code></h3>
		<p>
Returns an array containing the temperature values of nodes in the most recently generated chunk by the current mapgen.
		</p>
		<h3 id="humiditymap"><code>humiditymap</code></h3>
		<p>
Returns an array containing the humidity values of nodes in the most recently generated chunk by the current mapgen.
		</p>
		<h3 id="gennotify"><code>gennotify</code></h3>
		<p>
Returns a table mapping requested generation notification types to arrays of positions at which the corresponding generated structures are located within the current chunk. To set the capture of positions of interest to be recorded on generate, use <code>minetest.set_gen_notify()</code>. For decorations, the returned positions are the ground surface 'place_on' nodes, not the decorations themselves. A 'simple' type decoration is often 1 node above the returned position and possibly displaced by 'place_offset_y'.
		</p>
		<p>
Possible fields of the table returned are:
		</p>
			<ul>
				<li class="line1">
<code>dungeon</code>
				</li>
				<li class="line1">
<code>temple</code>
				</li>
				<li class="line1">
<code>cave_begin</code>
				</li>
				<li class="line1">
<code>cave_end</code>
				</li>
				<li class="line1">
<code>large_cave_begin</code>
				</li>
				<li class="line1">
<code>large_cave_end</code>
				</li>
				<li class="line1">
<code>decoration</code>
<br>
Decorations have a key in the format of <code>"decoration#id"</code>, where <code>id</code> is the
<br>
numeric unique decoration ID as returned by <code>minetest.get_decoration_id</code>.
				</li>
			</ul>
		<p class="nav"><a href="index.html#contents">Contents</a>, <a href="full_index.html#Mapgen_objects">Index</a></p>
	</body>
</html>
