<!DOCTYPE html>
<html>
	<head>
		<title>Spatial Vectors</title>
		<link rel="stylesheet" href="minetest.css">
		<script type="text/javascript" src="search.js"></script>
	</head>

	<body>
		<div>
			<table class="nav" style="width: 100%">
				<tr class="nav">
					<td style="text-align: left;" class="nav">
						<a href="index.html#contents">Contents</a>, <a href="full_index.html#Spatial_Vectors">Index</a>
					</td>
					<td style="text-align: right;" class="nav">
						<input type="text" id="search_term" name="search_term" onkeydown="term_key ();">
					</td>
					<td style="text-align: right;" class="nav">
						<button type="button" onclick="search ();" id="searchbtn" name="searchbtn">Search</button>
					</td>
				</tr>
			</table>
		</div>

		<div id="search_results" style="display: none;" class="searchbg">
			<button type="button" onclick="hide_search_results ();" id="hide_results" name="hide_results">Hide</button>
			<div id="search_results_contents" class="search">
			</div>
		</div>

		<h1 id="Spatial Vectors">Spatial Vectors</h1>
A spatial vector is similar to a position, but instead using absolute world coordinates, it uses *relative* coordinates, relative to no particular point.
		<p>
Internally, it is implemented as a table with the 3 fields <code>x</code>, <code>y</code> and <code>z</code>. Example: <code>{x = 0, y = 1, z = 0}</code>.
		</p>
		<p>
For the following functions, <code>v</code>, <code>v1</code>, <code>v2</code> are vectors, <code>p1</code>, <code>p2</code> are positions, <code>s</code> is a scalar (a number):
		</p>
			<ul>
				<li class="line1">
<code>vector.new(a[, b, c])</code>:
				<ul>
					<li>
Returns a vector.
					</li>
					<li>
A copy of <code>a</code> if <code>a</code> is a vector.
					</li>
					<li>
<code>{x = a, y = b, z = c}</code>, if all of <code>a</code>, <code>b</code>, <code>c</code> are defined numbers.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.direction(p1, p2)</code>:
				<ul>
					<li>
Returns a vector of length 1 with direction <code>p1</code> to <code>p2</code>.
					</li>
					<li>
If <code>p1</code> and <code>p2</code> are identical, returns <code>{x = 0, y = 0, z = 0}</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.distance(p1, p2)</code>:
				<ul>
					<li>
Returns zero or a positive number, the distance between <code>p1</code> and <code>p2</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.length(v)</code>:
				<ul>
					<li>
Returns zero or a positive number, the length of vector <code>v</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.normalize(v)</code>:
				<ul>
					<li>
Returns a vector of length 1 with direction of vector <code>v</code>.
					</li>
					<li>
If <code>v</code> has zero length, returns <code>{x = 0, y = 0, z = 0}</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.floor(v)</code>:
				<ul>
					<li>
Returns a vector, each dimension rounded down.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.round(v)</code>:
				<ul>
					<li>
Returns a vector, each dimension rounded to nearest integer.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.apply(v, func)</code>:
				<ul>
					<li>
Returns a vector where the function <code>func</code> has been applied to each       component.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.equals(v1, v2)</code>:
				<ul>
					<li>
Returns a boolean, <code>true</code> if the vectors are identical.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.sort(v1, v2)</code>:
				<ul>
					<li>
Returns in order minp, maxp vectors of the cuboid defined by <code>v1</code>, <code>v2</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.angle(v1, v2)</code>:
				<ul>
					<li>
Returns the angle between <code>v1</code> and <code>v2</code> in radians.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.dot(v1, v2)</code>:
				<ul>
					<li>
Returns the dot product of <code>v1</code> and <code>v2</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.cross(v1, v2)</code>:
				<ul>
					<li>
Returns the cross product of <code>v1</code> and <code>v2</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.offset(v, x, y, z)</code>:
				<ul>
					<li>
Returns the sum of the vectors <code>v</code> and <code>{x = x, y = y, z = z}</code>.
<br>
For the following functions <code>x</code> can be either a vector or a number:
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.add(v, x)</code>:
				<ul>
					<li>
Returns a vector.
					</li>
					<li>
If <code>x</code> is a vector: Returns the sum of <code>v</code> and <code>x</code>.
					</li>
					<li>
If <code>x</code> is a number: Adds <code>x</code> to each component of <code>v</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.subtract(v, x)</code>:
				<ul>
					<li>
Returns a vector.
					</li>
					<li>
If <code>x</code> is a vector: Returns the difference of <code>v</code> subtracted by <code>x</code>.
					</li>
					<li>
If <code>x</code> is a number: Subtracts <code>x</code> from each component of <code>v</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.multiply(v, s)</code>:
				<ul>
					<li>
Returns a scaled vector.
					</li>
					<li>
Deprecated: If <code>s</code> is a vector: Returns the Schur product.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.divide(v, s)</code>:
				<ul>
					<li>
Returns a scaled vector.
					</li>
					<li>
Deprecated: If <code>s</code> is a vector: Returns the Schur quotient.
<br>
For the following functions <code>a</code> is an angle in radians and <code>r</code> is a rotation
<br>
vector ({x = &lt;pitch&gt;, y = &lt;yaw&gt;, z = &lt;roll&gt;}) where pitch, yaw and roll are
<br>
angles in radians.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.rotate(v, r)</code>:
				<ul>
					<li>
Applies the rotation <code>r</code> to <code>v</code> and returns the result.
					</li>
					<li>
<code>vector.rotate({x = 0, y = 0, z = 1}, r)</code> and       <code>vector.rotate({x = 0, y = 1, z = 0}, r)</code> return vectors pointing       forward and up relative to an entity's rotation <code>r</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.rotate_around_axis(v1, v2, a)</code>:
				<ul>
					<li>
Returns <code>v1</code> rotated around axis <code>v2</code> by <code>a</code> radians according to       the right hand rule.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>vector.dir_to_rotation(direction[, up])</code>:
				<ul>
					<li>
Returns a rotation vector for <code>direction</code> pointing forward using <code>up</code>       as the up vector.
					</li>
					<li>
If <code>up</code> is omitted, the roll of the returned vector defaults to zero.
					</li>
					<li>
Otherwise <code>direction</code> and <code>up</code> need to be vectors in a 90 degree angle to each other.
					</li>
				</ul>
				</li>
			</ul>
		<p class="nav"><a href="index.html#contents">Contents</a>, <a href="full_index.html#Spatial_Vectors">Index</a></p>
	</body>
</html>
