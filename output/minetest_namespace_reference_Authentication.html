<!DOCTYPE html>
<html>
	<head>
		<title>minetest namespace reference, Authentication</title>
		<link rel="stylesheet" href="minetest.css">
		<script type="text/javascript" src="search.js"></script>
	</head>

	<body>
		<div>
			<table class="nav" style="width: 100%">
				<tr class="nav">
					<td style="text-align: left;" class="nav">
						<a href="index.html#contents">Contents</a>, <a href="full_index.html#minetest_namespace_reference_Authentication">Index</a>
					</td>
					<td style="text-align: right;" class="nav">
						<input type="text" id="search_term" name="search_term" onkeydown="term_key ();">
					</td>
					<td style="text-align: right;" class="nav">
						<button type="button" onclick="search ();" id="searchbtn" name="searchbtn">Search</button>
					</td>
				</tr>
			</table>
		</div>

		<div id="search_results" style="display: none;" class="searchbg">
			<button type="button" onclick="hide_search_results ();" id="hide_results" name="hide_results">Hide</button>
			<div id="search_results_contents" class="search">
			</div>
		</div>

		<h1 id="Authentication">minetest namespace reference, Authentication</h1>
			<ul>
				<li class="line1">
<code>minetest.string_to_privs(str[, delim])</code>:
				<ul>
					<li>
Converts string representation of privs into table form
					</li>
					<li>
<code>delim</code>: String separating the privs. Defaults to <code>","</code>.
					</li>
					<li>
Returns <code>{ priv1 = true, ... }</code>
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.privs_to_string(privs[, delim])</code>:
				<ul>
					<li>
Returns the string representation of <code>privs</code>
					</li>
					<li>
<code>delim</code>: String to delimit privs. Defaults to <code>","</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.get_player_privs(name) -&gt; {priv1=true,...}</code>
				</li>
				<li class="line1">
<code>minetest.check_player_privs(player_or_name, ...)</code>:   returns <code>bool, missing_privs</code>
				<ul>
					<li>
A quickhand for checking privileges.
					</li>
					<li>
<code>player_or_name</code>: Either a Player object or the name of a player.
					</li>
					<li>
<code>...</code> is either a list of strings, e.g. <code>"priva", "privb"</code> or       a table, e.g. <code>{ priva = true, privb = true }</code>.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.check_password_entry(name, entry, password)</code>
				<ul>
					<li>
Returns true if the "password entry" for a player with name matches given       password, false otherwise.
					</li>
					<li>
The "password entry" is the password representation generated by the       engine as returned as part of a <code>get_auth()</code> call on the auth handler.
					</li>
					<li>
Only use this function for making it possible to log in via password from       external protocols such as IRC, other uses are frowned upon.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.get_password_hash(name, raw_password)</code>
				<ul>
					<li>
Convert a name-password pair to a password hash that Minetest can use.
					</li>
					<li>
The returned value alone is not a good basis for password checks based       on comparing the password hash in the database with the password hash       from the function, with an externally provided password, as the hash       in the db might use the new SRP verifier format.
					</li>
					<li>
For this purpose, use <code>minetest.check_password_entry</code> instead.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.get_player_ip(name)</code>: returns an IP address string for the player   <code>name</code>.
				<ul>
					<li>
The player needs to be online for this to be successful.
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.get_auth_handler()</code>: Return the currently active auth handler
				<ul>
					<li>
See the <a href="Definition_tables_Authentication_handler_definition.html#Authentication handler definition">Authentication handler definition</a>
					</li>
					<li>
Use this to e.g. get the authentication data for a player:       <code>local auth_data = minetest.get_auth_handler().get_auth(playername)</code>
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.notify_authentication_modified(name)</code>
				<ul>
					<li>
Must be called by the authentication handler for privilege changes.
					</li>
					<li>
<code>name</code>: string; if omitted, all auth data should be considered modified
					</li>
				</ul>
				</li>
				<li class="line1">
<code>minetest.set_player_password(name, password_hash)</code>: Set password hash of   player <code>name</code>.
				</li>
				<li class="line1">
<code>minetest.set_player_privs(name, {priv1=true,...})</code>: Set privileges of player   <code>name</code>.
				</li>
				<li class="line1">
<code>minetest.auth_reload()</code>
				<ul>
					<li>
See <code>reload()</code> in authentication handler definition
<br>
<code>minetest.set_player_password</code>, <code>minetest.set_player_privs</code>,
<br>
<code>minetest.get_player_privs</code> and <code>minetest.auth_reload</code> call the authentication
<br>
handler.
					</li>
				</ul>
				</li>
			</ul>
		<p class="nav"><a href="index.html#contents">Contents</a>, <a href="full_index.html#minetest_namespace_reference_Authentication">Index</a></p>
	</body>
</html>
